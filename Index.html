<!DOCTYPE html>
<html lang="ht">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Echanj Plus App</title>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>

<style>
/* Reset & body */
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #0a1f44;
  color: #fff;
  display: flex;
  flex-direction: column;
  align-items: center;
}

/* Logo */
.logo {
  width: 150px;
  margin: 20px 0;
}

/* Header */
header {
  text-align: center;
  margin-bottom: 20px;
}

header h1 {
  font-style: italic;
  color: #FFD700;
  margin: 0;
}

/* Navigation */
nav {
  display: flex;
  justify-content: center;
  gap: 15px;
  margin-bottom: 20px;
}

nav button {
  background: rgba(255,255,255,0.1);
  border: none;
  padding: 10px 15px;
  border-radius: 8px;
  color: #fff;
  cursor: pointer;
  font-weight: bold;
}

nav button:hover {
  background: rgba(255,255,255,0.3);
}

/* Container for sections */
section {
  display: none;
  width: 95%;
  max-width: 500px;
  background: rgba(255,255,255,0.1);
  padding: 20px;
  border-radius: 12px;
  text-align: center;
}

/* Form styling */
form {
  display: flex;
  flex-direction: column;
  gap: 15px;
}

input, select {
  padding: 10px;
  border-radius: 8px;
  border: none;
  font-size: 1em;
}

/* Buttons */
button.action-btn {
  background: #FFD700;
  color: black;
  padding: 10px 20px;
  border-radius: 8px;
  font-weight: bold;
  cursor: pointer;
}

button.action-btn:hover {
  background: #FFA500;
}

/* Table */
table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 15px;
}

th, td {
  border: 1px solid white;
  padding: 8px;
  text-align: center;
}

th {
  background: #FFD700;
  color: black;
}

tr:nth-child(even) {
  background: rgba(255,255,255,0.1);
}

/* Responsive */
@media(max-width:600px){
  nav {
    flex-direction: column;
  }
}
</style>
</head>

<body>

<!-- Logo -->
<img src="https://i.postimg.cc/L8VgxQq9/image1-removebg-preview.png" alt="Echanj Plus" class="logo">

<header>
  <h1>Echanj Plus</h1>
</header>

<!-- Navigation -->
<nav>
  <button onclick="showSection('home')">Home</button>
  <button onclick="showSection('voyeminit')">Voye Minit</button>
  <button onclick="showSection('peyman')">Peman</button>
  <button onclick="showSection('profil')">Profil</button>
  <button onclick="showSection('istorik')">Istorik</button>
  <button onclick="showSection('about')">About</button>
</nav>

<!-- Sections -->
<section id="loginSection">
  <h2>Login / Sign Up Obligatory</h2>
  <form id="signupForm">
    <input type="text" placeholder="Non" id="signupName" required>
    <input type="email" placeholder="Email" id="signupEmail" required>
    <input type="text" placeholder="Téléphone" id="signupPhone" required>
    <input type="password" placeholder="Modpas" id="signupPassword" required>
    <button type="submit" class="action-btn">Sign Up</button>
    <button type="button" onclick="loginWithGoogle()" class="action-btn">Login Google</button>
    <button type="button" onclick="loginWithPhone()" class="action-btn">Login Phone</button>
  </form>
</section>

<section id="home">
  <h2>Home</h2>
  <p>UID: <span id="uidDisplay">...</span></p>
  <p>Sale Balance: <span id="saleBalance">0</span> minit</p>
  <p>Withdraw Balance: <span id="withdrawBalance">0</span> gdes</p>
</section>

<section id="voyeminit">
  <h2>Voye Minit</h2>
  <form id="voyeminitForm">
    <select id="operateur" required>
      <option value="">Chwazi Operatè</option>
      <option value="digicel">Digicel</option>
      <option value="natcom">Natcom</option>
    </select>
    <input type="number" id="quantite" placeholder="Kantite minit" required>
    <button type="submit" class="action-btn">Voye Minit</button>
  </form>
</section>

<section id="peyman">
  <h2>Peman</h2>
  <p>Sale Balance: <span id="saleBalanceP">0</span> minit</p>
  <p>Withdraw Balance: <span id="withdrawBalanceP">0</span> gdes</p>
  <form id="peymanForm">
    <select id="paymentMethod">
      <option value="moncash">Mon Cash</option>
      <option value="natcash">NatCash</option>
      <option value="paryajlakay">Paryaj Lakay</option>
      <option value="paryajpam">Paryaj Pam</option>
      <option value="biwoars">Biwo ARS</option>
    </select>
    <input type="number" id="withdrawAmount" placeholder="Kantite pou retire" required>
    <button type="submit" class="action-btn">Send Peyman</button>
  </form>
</section>

<section id="profil">
  <h2>Profil</h2>
  <form id="profilForm">
    <input type="text" id="profilName" placeholder="Non" required>
    <input type="email" id="profilEmail" placeholder="Email" required>
    <input type="text" id="profilPhone" placeholder="Téléphone" required>
    <button type="submit" class="action-btn">Anrejistre</button>
  </form>
</section>

<section id="istorik">
  <h2>Istorik Tranzaksyon</h2>
  <table>
    <thead>
      <tr>
        <th>#</th>
        <th>Dat / Lè</th>
        <th>Kantite Minit</th>
        <th>Frè Sistèm</th>
        <th>Res ki rete</th>
        <th>Metòd Peyman</th>
      </tr>
    </thead>
    <tbody id="transaction-body">
    </tbody>
  </table>
</section>

<section id="about">
  <h2>About</h2>
  <p>Echanj Plus se yon sèvis pou itilizatè ayisyen vann minit.</p>
  <p>WhatsApp: +50947111123</p>
  <p>Email: echanjplus@gmail.com</p>
</section>

<script>
/* Firebase Config */
const firebaseConfig = {
  apiKey: "AIzaSyB1VTPakleoggsbLdpm_HS7nSb3A7A99Qw",
  authDomain: "echanj-plus-778cd.firebaseapp.com",
  databaseURL: "https://echanj-plus-778cd-default-rtdb.firebaseio.com",
  projectId: "echanj-plus-778cd",
  storageBucket: "echanj-plus-778cd.appspot.com",
  messagingSenderId: "111144762929",
  appId: "1:111144762929:web:e64ce9a6da65781c289f10",
  measurementId: "G-J1BQRF32ZW"
};
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.database();

/* Show section */
function showSection(id){
  document.querySelectorAll('section').forEach(sec => sec.style.display='none');
  document.getElementById(id).style.display = 'block';
}

/* SignUp */
document.getElementById('signupForm').addEventListener('submit', e=>{
  e.preventDefault();
  const email = document.getElementById('signupEmail').value;
  const pass = document.getElementById('signupPassword').value;
  auth.createUserWithEmailAndPassword(email, pass)
  .then(userCredential=>{
    const user = userCredential.user;
    localStorage.setItem('uid', user.uid);
    document.getElementById('uidDisplay').innerText = user.uid;
    alert('Kreye kont avèk siksè!');
    showSection('home');
  }).catch
