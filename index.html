<!DOCTYPE html><html lang="ht">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Echanj Plus</title>
  <style>
    body, html {margin:0; padding:0; font-family:Arial, sans-serif; background:#0b1c3d; color:#fff; height:100%;}
    .splash {display:flex; justify-content:center; align-items:center; height:100vh; flex-direction:column; background:#0b1c3d;}
    .logo {font-size:2.5rem; font-weight:bold; color:#FFD700; text-shadow:2px 2px 0 #000; margin-bottom:20px;}
    .square {width:50px; height:50px; border:4px solid #FFD700; border-top:4px solid transparent; border-radius:8px; animation:spin 1s linear infinite;}
    @keyframes spin {0%{transform:rotate(0);}100%{transform:rotate(360deg);}}
    .hidden {display:none;}.auth-container {max-width:350px; margin:30px auto; background:#fff; color:#000; padding:20px; border-radius:12px; box-shadow:0 4px 12px rgba(0,0,0,0.3);}
.auth-container h2 {text-align:center; color:#0b1c3d;}
input, select {width:100%; padding:10px; margin:8px 0; border:1px solid #ccc; border-radius:8px;}
button {width:100%; padding:10px; margin-top:10px; background:#FFD700; border:none; border-radius:8px; font-weight:bold; cursor:pointer;}
button:hover {background:#e6c200;}
a {color:#0b1c3d; font-size:0.9rem; display:block; margin-top:10px; text-align:center;}

.dashboard {display:none; padding:20px;}
.nav {position:fixed; bottom:0; left:0; right:0; display:flex; justify-content:space-around; background:#0b1c3d; padding:10px 0;}
.nav button {flex:1; margin:0 5px; border-radius:0; background:#FFD700; color:#000;}
.wallet {background:#fff; color:#000; padding:15px; border-radius:12px; margin-bottom:20px;}

  </style>
</head>
<body><div id="splash" class="splash">
  <div class="logo">Echanj Plus</div>
  <div class="square"></div>
</div><div id="signup" class="auth-container hidden">
  <h2>Enskri</h2>
  <input type="text" id="signupName" placeholder="Non konplè">
  <input type="email" id="signupEmail" placeholder="Imèl">
  <input type="password" id="signupPassword" placeholder="Modpas">
  <input type="text" id="signupPhone" placeholder="Nimewo Telefòn">
  <input type="number" id="signupAge" placeholder="Laj">
  <select id="signupGender">
    <option value="">Sèks</option>
    <option value="Gason">Gason</option>
    <option value="Fi">Fi</option>
  </select>
  <input type="text" id="signupCity" placeholder="Vil">
  <label><input type="checkbox" id="terms"> Mwen dakò ak kondisyon yo</label>
  <div id="recaptcha-container"></div>
  <button onclick="signup()">Enskri</button>
  <a href="#" onclick="showLogin()">Ou gen yon kont? Konekte</a>
</div><div id="login" class="auth-container hidden">
  <h2>Konekte</h2>
  <input type="email" id="loginEmail" placeholder="Imèl">
  <input type="password" id="loginPassword" placeholder="Modpas">
  <button onclick="login()">Konekte</button>
  <a href="#" onclick="showSignup()">Ou poko gen kont? Enskri</a>
</div><div id="dashboard" class="dashboard">
  <h2>Byenveni nan Echanj Plus</h2>
  <div class="wallet">
    <h3>Wallet</h3>
    <p id="balance">Balans: 0 Gdes</p>
    <button onclick="simulateTransaction()">Vann 100 Minit</button>
  </div>
  <div id="content"></div>
  <div class="nav">
    <button onclick="showTab('home')">Akey</button>
    <button onclick="showTab('payment')">Peman</button>
    <button onclick="showTab('profile')">Profil</button>
    <button onclick="showTab('about')">About</button>
  </div>
</div><script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script><script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script><script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script><script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script><script>
  const firebaseConfig = {
    apiKey: "YOUR_API_KEY",
    authDomain: "YOUR_PROJECT.firebaseapp.com",
    databaseURL: "https://YOUR_PROJECT-default-rtdb.firebaseio.com",
    projectId: "YOUR_PROJECT",
    storageBucket: "YOUR_PROJECT.appspot.com",
    messagingSenderId: "",
    appId: ""
  };
  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  const db = firebase.database();
  const store = firebase.firestore();

  // Splash → Signup
  setTimeout(()=>{
    document.getElementById('splash').classList.add('hidden');
    document.getElementById('signup').classList.remove('hidden');
  }, 3000);

  function showLogin(){
    document.getElementById('signup').classList.add('hidden');
    document.getElementById('login').classList.remove('hidden');
  }
  function showSignup(){
    document.getElementById('login').classList.add('hidden');
    document.getElementById('signup').classList.remove('hidden');
  }

  // Signup
  async function signup(){
    const email = document.getElementById('signupEmail').value;
    const pass = document.getElementById('signupPassword').value;
    const name = document.getElementById('signupName').value;
    const phone = document.getElementById('signupPhone').value;
    const age = document.getElementById('signupAge').value;
    const gender = document.getElementById('signupGender').value;
    const city = document.getElementById('signupCity').value;

    if(!document.getElementById('terms').checked){alert('Ou dwe dakò ak kondisyon yo'); return;}

    try {
      const userCred = await auth.createUserWithEmailAndPassword(email, pass);
      const uid = userCred.user.uid;

      // generate account number
      const accountNumber = Date.now();

      await db.ref('users/' + uid + '/profile').set({
        name, email, phone, age, gender, city, accountNumber, balance:0
      });

      document.getElementById('signup').classList.add('hidden');
      document.getElementById('dashboard').style.display='block';
    } catch(e){alert(e.message)}
  }

  // Login
  async function login(){
    const email = document.getElementById('loginEmail').value;
    const pass = document.getElementById('loginPassword').value;
    try {
      await auth.signInWithEmailAndPassword(email, pass);
      document.getElementById('login').classList.add('hidden');
      document.getElementById('dashboard').style.display='block';
    } catch(e){alert(e.message)}
  }

  // Dashboard
  let balance = 0;
  function simulateTransaction(){
    const minit = 100;
    const gdes = minit*0.82; // frais 17.5%
    balance += gdes;
    document.getElementById('balance').innerText = 'Balans: '+balance+' Gdes';
    const uid = auth.currentUser.uid;
    store.collection('transactions').add({uid, minit, gdes, time:Date.now()});
  }

  function showTab(tab){
    const c = document.getElementById('content');
    if(tab==='home') c.innerHTML = '<h3>Akey</h3><p>Byenveni!</p>';
    if(tab==='payment') c.innerHTML = '<h3>Peman</h3><p>Opsyon Peman yo la.</p>';
    if(tab==='profile') c.innerHTML = '<h3>Profil</h3><p>Non: '+auth.currentUser.email+'</p>';
    if(tab==='about') c.innerHTML = '<h3>About</h3><p>Echanj Plus se yon platfòm transfè minit.</p>';
  }
</script></body>
</html>
