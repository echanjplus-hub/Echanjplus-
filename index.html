<!DOCTYPE html>
<html lang="ht">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Echanj Plus - Tout-an-Yonn</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>

    <div id="auth-page" class="container">
        <center><img src="https://i.postimg.cc/vTtVtB8P/20260205-163353-removebg-preview.png" width="120" style="margin:20px 0;"></center>
        
        <div id="login-section" class="card">
            <h2>Konekte</h2>
            <input type="email" id="login-email" placeholder="Email ou">
            <div class="pass-group">
                <input type="password" id="login-pass" placeholder="Modpas ou">
                <i class="fa fa-eye" onclick="togglePass('login-pass')"></i>
            </div>
            <button class="btn-main bg-blue" onclick="handleLogin()">Konekte</button>
            <p onclick="toggleAuth('signup')" class="link">Poko gen kont? <span>Enskri</span></p>
        </div>

        <div id="signup-section" class="card hidden">
            <h2>Kreye Kont</h2>
            <input type="text" id="sign-name" placeholder="Non konplè">
            <input type="tel" id="sign-phone" placeholder="Telefòn">
            <input type="email" id="sign-email" placeholder="Email">
            <input type="password" id="sign-pass" placeholder="Modpas">
            <input type="text" id="sign-ref" placeholder="Kòd Parenaj (Opsyonèl)">
            <button class="btn-main bg-green" onclick="handleSignup()">Enskri</button>
            <p onclick="toggleAuth('login')" class="link">Gen kont deja? <span>Konekte</span></p>
        </div>
    </div>

    <div id="home-page" class="hidden">
        
        <div id="sidebar" class="sidebar">
            <div class="sidebar-header">
                <img src="https://i.postimg.cc/vTtVtB8P/20260205-163353-removebg-preview.png" width="60">
                <span onclick="toggleSidebar()">&times;</span>
            </div>
            <div class="sidebar-content">
                <p><b>Non:</b> <span id="side-name">...</span></p>
                <p><b>Tel:</b> <span id="side-phone">...</span></p>
                <p><b>Email:</b> <span id="side-email">...</span></p>
                <hr>
                <button class="side-link" onclick="handleReset()">Chanje Modpas</button>
                <button class="side-link logout" onclick="handleLogout()">Dekonekte</button>
            </div>
        </div>

        <header class="top-nav">
            <i class="fa fa-bars" onclick="toggleSidebar()"></i>
            <span id="user-id-display" class="user-id">ID: ARS-...</span>
        </header>

        <main id="main-content">
            <section id="paj-akey" class="paj-active">
                <div class="balance-card">
                    <span class="label">BALANS DISPONIB</span>
                    <div id="user-balance" class="main-bal">0.00</div>
                    <small>Gourdes (HTG)</small>
                </div>
                <div class="carousel"><div class="slide">Byenveni sou Echanj Plus 2026!</div></div>
            </section>

            <section id="paj-echanj" class="hidden">
                <div class="container">
                    <h3>Echanje Minit</h3>
                    <div class="box">
                        <button class="btn-main btn-digi" onclick="toggleBox('input-digi')">Digicel</button>
                        <div id="input-digi" class="hidden">
                            <input type="number" id="qty-digi" placeholder="Kantite Minit">
                            <p id="calc-digi" class="res-text">Resevwa: 0.00 G</p>
                            <button class="confirm-btn" onclick="processEchanj('digicel')">KONFIME</button>
                        </div>
                    </div>
                    <div class="box">
                        <button class="btn-main btn-nat" onclick="toggleBox('input-nat')">Natcom</button>
                        <div id="input-nat" class="hidden">
                            <input type="number" id="qty-nat" placeholder="Kantite Minit">
                            <p id="calc-nat" class="res-text">Resevwa: 0.00 G</p>
                            <button class="confirm-btn" onclick="processEchanj('natcom')">KONFIME</button>
                        </div>
                    </div>
                </div>
            </section>

            <section id="paj-retre" class="hidden">
                <div class="container">
                    <h3>Mande Retrè</h3>
                    <div class="box border-green">
                        <select id="metod"><option value="MonCash">MonCash</option><option value="NatCash">NatCash</option></select>
                        <input type="number" id="retre-amt" placeholder="Kantite Gdes">
                        <input type="tel" id="retre-phone" placeholder="Nimewo Telefòn">
                        <input type="text" id="retre-nom" placeholder="Non sou kont lan">
                        <button class="btn-main bg-green" onclick="processRetre()">KONFIME</button>
                    </div>
                </div>
            </section>

            <section id="paj-trans" class="hidden">
                <div class="container"><h3>Istorik</h3><div id="transaction-list"></div></div>
            </section>

            <section id="paj-kripto" class="hidden">
                <div class="container"><h3>Kripto</h3><p>Byento...</p></div>
            </section>
        </main>

        <nav class="bottom-nav">
            <div class="nav-item active" onclick="showPage('paj-akey', this)"><i class="fa fa-home"></i><span>Akey</span></div>
            <div class="nav-item" onclick="showPage('paj-echanj', this)"><i class="fa fa-exchange-alt"></i><span>Echanj</span></div>
            <div class="nav-item" onclick="showPage('paj-kripto', this)"><i class="fa fa-bitcoin-sign"></i><span>Kripto</span></div>
            <div class="nav-item" onclick="showPage('paj-trans', this)"><i class="fa fa-history"></i><span>Trans</span></div>
            <div class="nav-item" onclick="showPage('paj-retre', this)"><i class="fa fa-wallet"></i><span>Retrè</span></div>
        </nav>
    </div>

    <div id="profile-modal" class="modal-overlay hidden">
        <div class="modal-card">
            <h3>Konplete Profil ou</h3>
            <input type="text" id="update-name" placeholder="Non konplè">
            <input type="tel" id="update-phone" placeholder="Nimewo Telefòn">
            <button class="btn-main bg-blue" onclick="updateMissingProfile()">Sove</button>
        </div>
    </div>

    <div id="chat-launcher" class="hidden" onclick="toggleChat()"><i class="fas fa-comments"></i></div>
    <div id="user-chat-box" class="chat-hidden">
        <div id="chat-header-btn"><span>Sipò Echanj Plus</span><i class="fas fa-times" onclick="toggleChat()"></i></div>
        <div id="chat-messages"></div>
        <div class="chat-input-box">
            <input type="text" id="chat-input-text" placeholder="Ekri nou...">
            <button id="send-chat-btn">➤</button>
        </div>
    </div>

    <script type="module" src="app.js"></script>
    <script>
        function togglePass(id) { const el = document.getElementById(id); el.type = el.type === "password" ? "text" : "password"; }
        function toggleAuth(m) { 
            document.getElementById('login-section').classList.toggle('hidden', m === 'signup');
            document.getElementById('signup-section').classList.toggle('hidden', m === 'login');
        }
        function toggleSidebar() { document.getElementById('sidebar').classList.toggle('active'); }
        function toggleBox(id) { document.getElementById(id).classList.toggle('hidden'); }
        function toggleChat() { document.getElementById('user-chat-box').classList.toggle('chat-hidden'); }
        function showPage(p, el) {
            document.querySelectorAll('section').forEach(s => s.classList.add('hidden'));
            document.getElementById(p).classList.remove('hidden');
            document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
            el.classList.add('active');
        }
    </script>
</body>
                                                                      </html>
                                
