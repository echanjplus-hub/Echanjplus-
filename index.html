<!DOCTYPE html><html lang="ht">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Echanj Plus ‚Äî App Web</title>
  <meta name="theme-color" content="#0a84ff" />
  <style>
    :root {
      --bg: #0b0e14; /* deep dark */
      --card: #11161f;
      --muted: #9aa4b2;
      --text: #e6edf6;
      --primary: #0a84ff; /* iOS blue */
      --primary-2: #1367d3;
      --accent: #22c55e;
      --danger: #ef4444;
      --radius: 18px;
      --gap: 14px;
      --maxw: 520px;
    }/* Reset + layout */
* { box-sizing: border-box; }
html, body {
  height: 100%;
  margin: 0;
  background: var(--bg);
  color: var(--text);
  font: 16px/1.4 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, Noto Sans, "Apple Color Emoji", "Segoe UI Emoji";
}

/* Fullscreen safe-area */
.app {
  min-height: 100svh; /* modern mobile */
  min-height: 100dvh; /* fallback */
  padding: max(14px, env(safe-area-inset-top)) max(14px, env(safe-area-inset-right)) max(84px, env(safe-area-inset-bottom)) max(14px, env(safe-area-inset-left));
  display: grid;
  place-items: stretch;
}

/* Centered full-screen views */
.view {
  display: grid;
  place-items: center; /* center both axis */
}
.card {
  width: min(100%, var(--maxw));
  background: linear-gradient(180deg, #121827, #0f1420 60%);
  border: 1px solid rgba(255,255,255,.06);
  border-radius: var(--radius);
  padding: 22px;
  box-shadow: 0 10px 30px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.05);
}

h1, h2, h3 { margin: 0 0 10px; line-height: 1.2; }
h1 { font-size: 1.5rem; }
h2 { font-size: 1.2rem; opacity: .9; }
p { margin: 8px 0; color: var(--muted); }

.row { display: grid; gap: var(--gap); }
.row.cols-2 { grid-template-columns: 1fr 1fr; }

label { font-size: .9rem; color: var(--muted); }
input, select, textarea {
  width: 100%;
  padding: 14px 14px;
  background: #0d1220;
  color: var(--text);
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 14px;
  outline: none;
}
input:focus, select:focus, textarea:focus { border-color: rgba(10,132,255,.6); box-shadow: 0 0 0 4px rgba(10,132,255,.15); }

.btn {
  display: inline-flex; align-items: center; justify-content: center;
  height: 48px; padding: 0 18px; gap: 10px;
  border-radius: 14px; border: 0; cursor: pointer;
  color: white; background: var(--primary);
  font-weight: 600; letter-spacing: .2px;
}
.btn.secondary { background: #1f2937; color: var(--text); border: 1px solid rgba(255,255,255,.08); }
.btn.success { background: var(--accent); }
.btn.danger { background: var(--danger); }
.btn:active { transform: translateY(1px); }

.toolbar {
  position: fixed; inset: auto 0 0 0;
  background: rgba(15, 20, 32, .8); backdrop-filter: blur(10px);
  border-top: 1px solid rgba(255,255,255,.08);
  display: grid; grid-template-columns: repeat(4, 1fr);
  padding: 10px max(10px, env(safe-area-inset-right)) calc(10px + env(safe-area-inset-bottom)) max(10px, env(safe-area-inset-left));
  gap: 10px;
}
.tab { height: 44px; border-radius: 12px; border: 1px solid rgba(255,255,255,.08); background:#101828; color: var(--muted); font-weight: 600; }
.tab.active { background: var(--primary); color: white; border-color: transparent; }

.pill {
  display:inline-block; padding:6px 10px; border-radius:999px; background:#0c1323; border:1px solid rgba(255,255,255,.08); color:var(--muted); font-size:.8rem; margin-bottom:10px;
}

.divider { height:1px; background: rgba(255,255,255,.08); margin: 6px 0 16px; }
.money { font-variant-numeric: tabular-nums; font-weight: 700; }

/* Hide all views by default */
[data-screen] { display:none; }
[data-screen].active { display:grid; }

.hint { font-size: .85rem; color: #aab3bf; }
.center { text-align:center; }
.spacer { height: 8px; }

  </style>
</head>
<body>
  <div id="app" class="app"><!-- DASHBOARD (centered, full screen) -->
<section id="screen-dashboard" class="view active" data-screen>
  <div class="card">
    <h1>üè† Echanj Plus</h1>
    <p>Byenveni! Chwazi aksyon w vle f√® anba a.</p>
    <div class="divider"></div>
    <div class="row cols-2">
      <button class="btn" onclick="go('send')">üì§ Voye Minit</button>
      <button class="btn" onclick="go('pay')">üí≥ Peman</button>
    </div>
    <div class="spacer"></div>
    <div class="row cols-2">
      <button class="btn secondary" onclick="go('profile')">üë§ Pwofil</button>
      <button class="btn secondary" onclick="go('about')">‚ÑπÔ∏è About</button>
    </div>
    <div style="margin-top:14px" class="hint">Tout ekran yo centr√© epi pran tout ekran telef√≤n nan.</div>
  </div>
</section>

<!-- SEND MINUTES (center, full screen) -->
<section id="screen-send" class="view" data-screen>
  <div class="card">
    <h1>üì§ Voye Minit</h1>
    <div class="pill">Fr√® sist√®m: 17.5%</div>
    <div class="row" style="margin-top:8px">
      <label>Operat√®</label>
      <select id="op">
        <option value="digicel">Digicel</option>
        <option value="natcom">Natcom</option>
      </select>

      <label>Nimewo Sist√®m (resevwa transf√®)</label>
      <input id="sysNumber" placeholder="eg. 88888888" inputmode="numeric" />

      <div class="row cols-2">
        <div>
          <label>ID Kliyan (txtid)</label>
          <input id="clientId" placeholder="eg. 32160708" inputmode="numeric" />
        </div>
        <div>
          <label>Montan (Gdes)</label>
          <input id="amount" placeholder="eg. 100" inputmode="numeric" />
        </div>
      </div>

      <div class="divider"></div>
      <div class="row cols-2 center">
        <div>
          <div class="hint">Fr√®</div>
          <div class="money" id="fee">0 G</div>
        </div>
        <div>
          <div class="hint">W ap resevwa</div>
          <div class="money" id="net">0 G</div>
        </div>
      </div>

      <button class="btn success" onclick="composeUSSD()">üìû Konpoze USSD</button>
      <button class="btn secondary" onclick="go('dashboard')">‚¨ÖÔ∏è Tounen</button>
      <p class="hint">N ap louvri dialer telef√≤n ou a ak k√≤d USSD konpl√® a. Sou anpil telef√≤n, ‚Äò#‚Äô bezwen kode otomatikman (nou f√® sa pou ou).</p>
    </div>
  </div>
</section>

<!-- PAYMENT (center, full screen) -->
<section id="screen-pay" class="view" data-screen>
  <div class="card">
    <h1>üí≥ Peman</h1>
    <div class="pill">Chwazi met√≤d peman</div>
    <div class="row cols-2">
      <button class="btn tab active" data-paytab="moncash" onclick="pickPay('moncash')">MonCash</button>
      <button class="btn tab" data-paytab="natcash" onclick="pickPay('natcash')">NatCash</button>
      <button class="btn tab" data-paytab="paryajlakay" onclick="pickPay('paryajlakay')">Paryaj Lakay</button>
      <button class="btn tab" data-paytab="paryajpam" onclick="pickPay('paryajpam')">Paryaj Pam</button>
    </div>

    <!-- Forms -->
    <div class="row" style="margin-top:12px">
      <div data-payform="moncash">
        <label>Non Kont</label>
        <input id="mc_name" placeholder="eg. Echanj Plus" />
        <label>Nimewo Kont</label>
        <input id="mc_acc" placeholder="eg. +509 44 00 00 00" inputmode="tel" />
        <label>Montan</label>
        <input id="mc_amt" placeholder="eg. 500" inputmode="numeric" />
      </div>

      <div data-payform="natcash" style="display:none">
        <label>Non Kont</label>
        <input id="nc_name" placeholder="eg. Echanj Plus" />
        <label>Nimewo Kont</label>
        <input id="nc_acc" placeholder="eg. +509 42 00 00 00" inputmode="tel" />
        <label>Montan</label>
        <input id="nc_amt" placeholder="eg. 500" inputmode="numeric" />
      </div>

      <div data-payform="paryajlakay" style="display:none">
        <label>Nimewo Kont</label>
        <input id="pl_acc" placeholder="eg. 123456" inputmode="numeric" />
        <label>Remak (opsyon√®l)</label>
        <input id="pl_note" placeholder="eg. depo pou ID 32160708" />
      </div>

      <div data-payform="paryajpam" style="display:none">
        <label>Nimewo Kont</label>
        <input id="pp_acc" placeholder="eg. 654321" inputmode="numeric" />
        <label>Remak (opsyon√®l)</label>
        <input id="pp_note" placeholder="eg. depo rapid" />
      </div>

      <div class="divider"></div>
      <div class="row cols-2">
        <button class="btn success" onclick="savePayment()">‚úÖ Sove / Peye</button>
        <button class="btn secondary" onclick="go('dashboard')">‚¨ÖÔ∏è Tounen</button>
      </div>
      <p class="hint">F√≤m yo santre, konpatib tout ekran. Ou ka konekte bouton sa yo ak Firebase pita.</p>
    </div>
  </div>
</section>

<!-- PROFILE (center, full screen) -->
<section id="screen-profile" class="view" data-screen>
  <div class="card">
    <h1>üë§ Pwofil</h1>
    <div class="row">
      <label>Non konpl√®</label>
      <input id="pf_name" placeholder="eg. Jean Echanj" />
      <label>Telef√≤n</label>
      <input id="pf_phone" placeholder="eg. +509 33 12 34 56" inputmode="tel" />
      <label>S√®ks</label>
      <select id="pf_gender">
        <option value="">Chwazi</option>
        <option>Gason</option>
        <option>Fi</option>
      </select>
      <div class="row cols-2">
        <button class="btn success" onclick="toast('Pwofil sove (tanpor√®)')">üíæ Sove</button>
        <button class="btn secondary" onclick="go('dashboard')">‚¨ÖÔ∏è Tounen</button>
      </div>
      <p class="hint">Ou ka konekte sa ak Firebase Realtime Database pou anrejistre done yo.</p>
    </div>
  </div>
</section>

<!-- ABOUT (center, full screen) -->
<section id="screen-about" class="view" data-screen>
  <div class="card">
    <h1>‚ÑπÔ∏è Sou Echanj Plus</h1>
    <p><strong>Echanj Plus</strong> se yon platf√≤m pou voye minit, peye s√®vis, ak jere tranzaksyon rapid an Ayiti. Nou mete sekirite, transparans, ak vit√®s an premye.</p>
    <div class="divider"></div>
    <h2>Nimewo Sist√®m</h2>
    <p>Digicel: <strong id="num_digicel">+509 33 12 34 56</strong><br/>Natcom: <strong id="num_natcom">+509 42 65 43 21</strong></p>
    <div class="divider"></div>
    <button class="btn secondary" onclick="go('dashboard')">‚¨ÖÔ∏è Tounen</button>
  </div>
</section>

  </div>  <!-- Bottom Toolbar (persistent, still full-screen layout) -->  <nav class="toolbar">
    <button class="tab active" data-tab="dashboard" onclick="go('dashboard')">üè† Ak√®y</button>
    <button class="tab" data-tab="send" onclick="go('send')">üì§ Voye</button>
    <button class="tab" data-tab="pay" onclick="go('pay')">üí≥ Peman</button>
    <button class="tab" data-tab="profile" onclick="go('profile')">üë§ Pwofil</button>
  </nav>  <script>
    // ---- Navigation ----
    function go(name){
      document.querySelectorAll('[data-screen]').forEach(v=>v.classList.remove('active'));
      document.querySelector(`#screen-${name}`).classList.add('active');
      document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
      const t = document.querySelector(`[data-tab="${name}"]`); if(t) t.classList.add('active');
      // Scroll to top of the view for smaller phones
      window.scrollTo({top:0, behavior:'instant'});
    }

    // ---- Send Minutes calc & USSD compose ----
    const amountEl = document.getElementById('amount');
    const feeEl = document.getElementById('fee');
    const netEl = document.getElementById('net');
    [amountEl].forEach(el=> el.addEventListener('input', updateFees));

    function parseNum(v){ return Math.max(0, Number(String(v).replace(/[^0-9.]/g,'')) || 0); }

    function updateFees(){
      const amt = parseNum(amountEl.value);
      const fee = +(amt * 0.175).toFixed(2);
      const net = +(amt - fee).toFixed(2);
      feeEl.textContent = fee + ' G';
      netEl.textContent = (net < 0 ? 0 : net) + ' G';
    }
    updateFees();

    function composeUSSD(){
      const op = document.getElementById('op').value;
      const sys = (document.getElementById('sysNumber').value || '').trim();
      const id = (document.getElementById('clientId').value || '').trim();
      const amt = parseNum(document.getElementById('amount').value);

      if(!sys || !id || !amt){ return toast('Tanpri ranpli tout chan yo'); }

      // Mod√®l USSD: *123*<NimewoSist√®m>*<IDClient>*<Montan># (ajiste si bezwen)
      let base = '*123*' + sys + '*' + id + '*' + amt + '#';
      // Encode # pou dialer
      const encoded = base.replace(/#/g, encodeURIComponent('#'));
      const tel = 'tel:' + encoded;
      // Ouvri dialer
      window.location.href = tel;
    }

    // ---- Payment tabs ----
    function pickPay(key){
      document.querySelectorAll('[data-paytab]').forEach(b=> b.classList.toggle('active', b.dataset.paytab===key));
      document.querySelectorAll('[data-payform]').forEach(f=> f.style.display = (f.dataset.payform===key)? 'block':'none');
    }

    function savePayment(){
      toast('Peman an sove (egzanp lokal)');
    }

    // ---- Tiny toast ----
    const toastDiv = document.createElement('div');
    toastDiv.style.position='fixed'; toastDiv.style.left='50%'; toastDiv.style.bottom='calc(env(safe-area-inset-bottom) + 70px)';
    toastDiv.style.transform='translateX(-50%)'; toastDiv.style.background='rgba(15,20,32,.95)';
    toastDiv.style.border='1px solid rgba(255,255,255,.1)'; toastDiv.style.padding='10px 14px'; toastDiv.style.borderRadius='12px';
    toastDiv.style.color='#e6edf6'; toastDiv.style.fontWeight='600'; toastDiv.style.boxShadow='0 8px 30px rgba(0,0,0,.35)';
    toastDiv.style.display='none'; toastDiv.style.zIndex='9999'; document.body.appendChild(toastDiv);
    let toastTO;
    function toast(msg){
      toastDiv.textContent = msg;
      toastDiv.style.display='block';
      clearTimeout(toastTO);
      toastTO = setTimeout(()=> toastDiv.style.display='none', 1800);
    }

    // Prevent iOS pull-to-refresh jump on webapp
    document.addEventListener('touchmove', function(e){ if(document.scrollingElement.scrollTop <= 0) e.preventDefault(); }, {passive:false});
  </script></body>
  </html>
